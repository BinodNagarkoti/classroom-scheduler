(this["webpackJsonpclass-scheduler"]=this["webpackJsonpclass-scheduler"]||[]).push([[0],{120:function(e,a,t){},121:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(18),o=t.n(r),s=t(26),l=t(86),i=t(67),d=t.n(i),m=t(27),u=t(79),j=t(70);j.a.initializeApp({apiKey:"AIzaSyA-SezsO8Z9PApGfvcEynPtFZbuKXk0V3g",authDomain:"classroom-scheduler-af703.firebaseapp.com",projectId:"classroom-scheduler-af703",storageBucket:"classroom-scheduler-af703.appspot.com",messagingSenderId:"1047093565751",appId:"1:1047093565751:web:c49f912b76223dcde222b2"});var b=j.a,h=t(164),f=t(172),O=t(165),p=t(154),x=t(6);function g(e){var a;return a=e.isLoading?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{style:{margin:"0 auto"},children:[Object(x.jsx)(p.a,{variant:"rect",width:210,height:118}),Object(x.jsx)(p.a,{width:150}),Object(x.jsx)(p.a,{width:100})]}),Object(x.jsx)("br",{})]}):e.isEmpty?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{margin:"0 auto"},children:"No Data to Display"}),Object(x.jsx)("br",{})]}):e.children,Object(x.jsx)(x.Fragment,{children:a})}var y=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(x.jsx)("a",{className:"navbar-brand",href:".#",children:"Navbar"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(x.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link btn","data-toggle":"modal","data-target":"#exampleModalCenter",children:"New class"})})})})]})})},v=t(87),D=t(62),N=new Date,C=(new Date).setHours(N.getHours()+1),w=Object(D.b)({name:"classes",initialState:{formData:{docid:null,teachername:"",classname:"",days:[],fromDate:N.getTime(),toDate:C,subjectname:"",roomno:""},data:void 0,error:void 0},reducers:{setError:function(e,a){return Object(m.a)(Object(m.a)({},e),{},{error:a.payload})},setFormData:function(e,a){e.formData={docid:a.payload.docid,teachername:a.payload.teachername,classname:a.payload.classname,days:a.payload.days,fromDate:a.payload.fromDate,toDate:a.payload.toDate,subjectname:a.payload.subjectname,roomno:a.payload.roomno}},clearFormData:function(e){return Object(m.a)(Object(m.a)({},e),{},{formData:{docid:null,teachername:"",classname:"",days:[],fromDate:N.getTime(),toDate:C,subjectname:"",roomno:""}})},setDocid:function(e,a){e.formData.docid=a.payload},setRoomno:function(e,a){e.formData.roomno=a.payload},setTeacherName:function(e,a){e.formData.teachername=a.payload},setSubjectName:function(e,a){e.formData.subjectname=a.payload},setClassName:function(e,a){e.formData.classname=a.payload},setDays:function(e,a){e.formData.days=a.payload},setFromDate:function(e,a){e.formData.fromDate=a.payload},setToDate:function(e,a){e.formData.toDate=a.payload},update:function(e,a){e.formData=a.payload},setData:function(e,a){var t=a.payload.map((function(e){var a=e.subjectname,t=e.roomno,n=e.teachername,c=e.id,r=e.classname,o=e.days,s=e.from,l=e.to;return{docid:c,subjectname:a,roomno:t,teachername:n,classname:r,fromDate:Number(s),toDate:Number(l),days:o}}));return{formData:Object(m.a)({},e.formData),data:Object(v.a)(t)}},getData:function(){}}}),S=w.actions,F=S.setTeacherName,k=S.setSubjectName,T=S.setRoomno,z=S.setClassName,E=(S.setDocid,S.setDays),M=S.clearFormData,W=S.setError,q=S.setFromDate,I=(S.getData,S.setToDate),A=(S.update,S.setFormData),B=S.setData,L=w.reducer,P=function(e){var a=e.children,t=e.title,n=Object(s.b)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:t}),Object(x.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){return n(M())},"aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)("div",{className:"container",children:a})})]})})})})},R=(t(120),t(158)),K=t(159),_=t(160),H=t(161),J=t(173),U=t(174),Z=t(162),G=t(163),V=function(e){var a=e.getHours(),t=e.getMinutes(),n=a>=12?"pm":"am";return(a=(a%=12)||12)+":"+(t=t<10?"0"+t:t)+" "+n},X=new Date,Q=function(e){var a=e.docid,t=e.fromDate,n=e.toDate,c=e.days,r=(e.index,e.roomno),o=e.teachername,l=e.classname,i=e.subjectname,d=e.onEditClick,m=e.root,u=b.firestore(),j=Object(s.b)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(R.a,{className:m,children:[Object(x.jsx)(K.a,{children:Object(x.jsxs)(_.a,{children:[Object(x.jsx)(H.a,{gutterBottom:!0,variant:"h5",component:"h2",children:l}),Object(x.jsxs)(H.a,{variant:"body2",className:"card-subtitle mb-2 text-muted",color:"textSecondary",component:"h6",children:[V(new Date(Number(t)))," to"," ",V(new Date(Number(n)))]}),Object(x.jsx)(H.a,{variant:"body2",color:"textSecondary",component:"div",children:c.split(",").map((function(e,a){return Object(x.jsx)(J.a,{label:e,style:{margin:"2px"},color:"primary",variant:"outlined"},"_day_chip_"+a+1*X.getMilliseconds())}))}),Object(x.jsx)("br",{}),Object(x.jsx)(H.a,{variant:"body2",color:"textSecondary",component:"div",children:Object(x.jsx)(J.a,{avatar:Object(x.jsx)(U.a,{children:o[0]}),label:o,color:"primary"})})]})}),Object(x.jsxs)(Z.a,{children:[Object(x.jsx)(G.a,{size:"small",color:"primary","data-toggle":"modal","data-target":"#exampleModalCenter",onClick:function(){d(),j(A({teachername:o,classname:l,days:c.split(","),fromDate:t,toDate:n,docid:a,subjectname:i,roomno:r}))},children:"Edit"}),Object(x.jsx)(G.a,{size:"small",color:"primary",onClick:function(){u.collection("classes").doc(a).delete().then((function(){j(M),console.log("Deleted")}))},children:"Delete"})]})]})})},Y=t(175),$=t(169),ee=t(170),ae=t(69),te=t(21),ne=t(168),ce=Object(h.a)((function(e){return Object(f.a)({formRoot:{margin:"0 auto",width:"50ch","& > *":{padding:e.spacing(1)}},root:{maxWidth:345},media:{height:140}})})),re=function(e){var a=ce(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.classes})),c=n.error,r=(n.data,n.formData),o=r.classname,l=r.teachername,i=r.fromDate,d=r.toDate,u=r.docid,j=r.subjectname,h=r.roomno,f=r.days,p=b.firestore(),g=new Date;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(O.a,{container:!0,className:a.formRoot,id:"newClass",justify:"flex-start",children:[c&&Object(x.jsx)("div",{className:"alert alert-danger",role:"alert",children:c}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)($.a,{required:!0,size:"small",id:"outlined-basic-1",value:o,label:"class name",onChange:function(e){return t(z(e.target.value))},placeholder:"class 1,class 2..",variant:"outlined"})})}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)($.a,{required:!0,size:"small",id:"outlined-basic-2",value:l,label:"teacher name",onChange:function(e){return t(F(e.target.value))},placeholder:"jhon, libiya..",variant:"outlined"})})}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)($.a,{required:!0,size:"small",id:"outlined-basic-2",value:j,label:"Subject name",onChange:function(e){return t(k(e.target.value))},placeholder:"Math, Science, break...",variant:"outlined"})})}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)($.a,{required:!0,size:"small",id:"outlined-basic-2",value:h,label:"Room no",onChange:function(e){return t(T(e.target.value))},placeholder:"107, 108, 109...",variant:"outlined"})})}),Object(x.jsx)(O.a,{item:!0,md:12,children:Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)(ee.a,{required:!0,multiple:!0,id:"fixed-tags-demo",value:null!==f&&void 0!==f?f:[],size:"small",onChange:function(e,a){t(E(a))},options:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],getOptionLabel:function(e){return e},renderTags:function(e,a){return e.map((function(e,t){return Object(x.jsx)(J.a,Object(m.a)({label:e},a({index:t})),t+1*g.getMilliseconds()+"_chip")}))},renderInput:function(e){return Object(x.jsx)($.a,Object(m.a)(Object(m.a)({},e),{},{label:"Days",variant:"outlined",placeholder:"sunday, monday..."}))}})})}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(te.a,{fullWidth:!0,utils:ae.a,children:Object(x.jsx)(ne.a,{required:!0,margin:"normal",id:"time-picker",size:"small",fullWidth:!0,label:"From",variant:"outlined",value:new Date(i),onChange:function(e){return t(q(e.getTime()))},KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(x.jsx)(O.a,{item:!0,md:6,children:Object(x.jsx)(te.a,{utils:ae.a,children:Object(x.jsx)(ne.a,{fullWidth:!0,required:!0,margin:"normal",id:"time-picker",variant:"outlined",size:"small",label:"To",value:new Date(d),onChange:function(e){return t(I(e.getTime()))},KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(x.jsx)(Y.a,{fullWidth:!0,children:Object(x.jsx)(G.a,{size:"small",variant:"outlined",label:"Add",color:"primary",onClick:function(){(0===l.length?(t(W("teacher name is required")),0):0===o.length?(t(W("class name is required")),0):0!==f.length||(t(W("select at least one day")),0))&&(u?p.collection("classes").doc(u).set({from:i,to:d,teachername:l,classname:o,days:f.toString(),subjectname:j,roomno:h}).then((function(){t(M()),console.log("Successfully Updated")})).catch((function(e){return console.log(e.message)})):p.collection("classes").doc().set({from:i,to:d,teachername:l,classname:o,days:f.toString(),subjectname:j,roomno:h}).then((function(){t(M()),console.log("Successfully added")})).catch((function(e){return console.log(e.message)})))},children:null!==u?"Update":"Add"})})]})})},oe=Object(h.a)((function(e){return Object(f.a)({formRoot:{margin:"0 auto",width:"50ch","& > *":{padding:e.spacing(1)}},root:{maxWidth:345},media:{height:140}})}));var se=function(){var e=Object(s.b)(),a=b.firestore(),t=oe(),c=new Date;Object(n.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.collection("classes").onSnapshot((function(a){var t=a.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));e(B(t))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var r=Object(s.c)((function(e){return e.classes})),o=(r.error,r.data),i=(r.formData.docid,Object(n.useState)("Create New Class Schedule")),j=Object(l.a)(i,2),h=j[0],f=j[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{}),Object(x.jsx)(P,{title:h,children:Object(x.jsx)(re,{})}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(g,{isLoading:void 0===o,isEmpty:void 0!==o&&0===o.length,children:Object(x.jsx)(O.a,{container:!0,direction:"row",id:"AllClasses",spacing:1,justify:"flex-start",children:o&&o.map((function(e,a){return Object(x.jsx)(O.a,{item:!0,md:3,children:Object(x.jsx)(Q,{root:t.root,classname:e.classname,index:a,teachername:e.teachername,fromDate:e.fromDate,toDate:e.toDate,docid:e.docid,roomno:e.roomno,subjectname:e.subjectname,days:e.days,onEditClick:function(){return f("Edit Class Schedule")}})},(a+1)*c.getMilliseconds())}))})})})]})},le={classes:L},ie=Object(D.a)({reducer:le}),de=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,178)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,o=a.getTTFB;t(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(s.a,{store:ie,children:Object(x.jsx)(se,{})})}),document.getElementById("root")),de()}},[[121,1,2]]]);
//# sourceMappingURL=main.8a8cad8a.chunk.js.map