(this["webpackJsonpclass-scheduler"]=this["webpackJsonpclass-scheduler"]||[]).push([[0],{131:function(e,a,t){},133:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(17),o=t.n(r),s=t(27),l=t(96),i=t(76),d=t.n(i),m=t(28),u=t(88),j=t(78);j.a.initializeApp({apiKey:"AIzaSyA-SezsO8Z9PApGfvcEynPtFZbuKXk0V3g",authDomain:"classroom-scheduler-af703.firebaseapp.com",projectId:"classroom-scheduler-af703",storageBucket:"classroom-scheduler-af703.appspot.com",messagingSenderId:"1047093565751",appId:"1:1047093565751:web:c49f912b76223dcde222b2"});var b=j.a,h=t(174),f=t(183),O=t(175),x=t(164),p=t(6);function g(e){var a;return a=e.isLoading?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{style:{margin:"0 auto"},children:[Object(p.jsx)(x.a,{variant:"rect",width:210,height:118}),Object(p.jsx)(x.a,{width:150}),Object(p.jsx)(x.a,{width:100})]}),Object(p.jsx)("br",{})]}):e.isEmpty?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{style:{margin:"0 auto"},children:"No Data to Display"}),Object(p.jsx)("br",{})]}):e.children,Object(p.jsx)(p.Fragment,{children:a})}var y=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(p.jsx)("a",{className:"navbar-brand",href:".#",children:"Navbar"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(p.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link btn","data-toggle":"modal","data-target":"#exampleModalCenter",children:"New class"})})})})]})})},v=t(97),D=t(64),N=new Date,C=(new Date).setHours(N.getHours()+1),w=Object(D.b)({name:"classes",initialState:{formData:{docid:null,teachername:"",classname:"",days:[],fromDate:N.getTime(),toDate:C,subjectname:"",roomno:""},data:void 0,error:void 0},reducers:{setError:function(e,a){return Object(m.a)(Object(m.a)({},e),{},{error:a.payload})},setFormData:function(e,a){e.formData={docid:a.payload.docid,teachername:a.payload.teachername,classname:a.payload.classname,days:a.payload.days,fromDate:a.payload.fromDate,toDate:a.payload.toDate,subjectname:a.payload.subjectname,roomno:a.payload.roomno}},clearFormData:function(e){return Object(m.a)(Object(m.a)({},e),{},{formData:{docid:null,teachername:"",classname:"",days:[],fromDate:N.getTime(),toDate:C,subjectname:"",roomno:""}})},setDocid:function(e,a){e.formData.docid=a.payload},setRoomno:function(e,a){e.formData.roomno=a.payload},setTeacherName:function(e,a){e.formData.teachername=a.payload},setSubjectName:function(e,a){e.formData.subjectname=a.payload},setClassName:function(e,a){e.formData.classname=a.payload},setDays:function(e,a){e.formData.days=a.payload},setFromDate:function(e,a){e.formData.fromDate=a.payload},setToDate:function(e,a){e.formData.toDate=a.payload},update:function(e,a){e.formData=a.payload},setData:function(e,a){var t=a.payload.map((function(e){var a=e.subjectname,t=e.roomno,n=e.teachername,c=e.id,r=e.classname,o=e.days,s=e.from,l=e.to;return{docid:c,subjectname:a,roomno:t,teachername:n,classname:r,fromDate:Number(s),toDate:Number(l),days:o}}));return{formData:Object(m.a)({},e.formData),data:Object(v.a)(t)}},getData:function(){}}}),S=w.actions,F=S.setTeacherName,z=S.setSubjectName,k=S.setRoomno,T=S.setClassName,E=(S.setDocid,S.setDays),M=S.clearFormData,W=S.setError,I=S.setFromDate,q=(S.getData,S.setToDate),A=(S.update,S.setFormData),L=S.setData,B=w.reducer,P=function(e){var a=e.getHours(),t=e.getMinutes(),n=a>=12?"pm":"am";return(a=(a%=12)||12)+":"+(t=t<10?"0"+t:t)+" "+n},R=function(e){var a=e.children,t=e.title,n=Object(s.b)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:t}),Object(p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){return n(M())},"aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsx)("div",{className:"container",children:a})})]})})})})},K=(t(131),t(168)),_=t(169),H=t(170),J=t(171),U=t(184),Z=t(172),G=t(173),V=t(92),X=t.n(V),Q=t(94),Y=t.n(Q),$=t(93),ee=t.n($),ae=new Date,te=function(e){var a=e.docid,t=e.fromDate,n=e.toDate,c=e.days,r=(e.index,e.roomno),o=e.teachername,l=e.classname,i=e.subjectname,d=e.onEditClick,m=e.root,u=b.firestore(),j=Object(s.b)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(K.a,{className:m,children:[Object(p.jsx)(_.a,{children:Object(p.jsxs)(H.a,{children:[Object(p.jsx)(J.a,{gutterBottom:!0,variant:"h5",component:"h2",children:l}),Object(p.jsxs)(J.a,{variant:"body2",className:"card-subtitle mb-2 text-muted",color:"textSecondary",component:"h6",children:[P(new Date(Number(t)))," to"," ",P(new Date(Number(n)))]}),Object(p.jsx)(J.a,{variant:"body2",color:"textSecondary",component:"div",children:c.split(",").map((function(e,a){return Object(p.jsx)(U.a,{label:e,style:{margin:"2px"},color:"primary",variant:"outlined"},"_day_chip_"+a+1*ae.getMilliseconds())}))}),Object(p.jsx)("br",{}),Object(p.jsxs)(J.a,{variant:"body2",color:"textSecondary",component:"div",children:[Object(p.jsx)(U.a,{className:"mr-1",icon:Object(p.jsx)(X.a,{fontSize:"small"}),label:o,color:"primary"}),Object(p.jsx)(U.a,{className:"mr-1",icon:Object(p.jsx)(ee.a,{fontSize:"small"}),label:r}),Object(p.jsx)(U.a,{icon:Object(p.jsx)(Y.a,{fontSize:"small"}),label:i})]})]})}),Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(G.a,{size:"small",color:"primary","data-toggle":"modal","data-target":"#exampleModalCenter",onClick:function(){d(),j(A({teachername:o,classname:l,days:c.split(","),fromDate:t,toDate:n,docid:a,subjectname:i,roomno:r}))},children:"Edit"}),Object(p.jsx)(G.a,{size:"small",color:"primary",onClick:function(){u.collection("classes").doc(a).delete().then((function(){j(M),console.log("Deleted")}))},children:"Delete"})]})]})})},ne=t(176),ce=t(180),re=t(181),oe=t(77),se=t(21),le=t(179),ie=Object(h.a)((function(e){return Object(f.a)({formRoot:{margin:"0 auto",width:"50ch","& > *":{padding:e.spacing(1)}},root:{maxWidth:345},media:{height:140}})})),de=function(e){var a=ie(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.classes})),c=n.error,r=(n.data,n.formData),o=r.classname,l=r.teachername,i=r.fromDate,d=r.toDate,u=r.docid,j=r.subjectname,h=r.roomno,f=r.days,x=b.firestore(),g=new Date;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(O.a,{container:!0,className:a.formRoot,id:"newClass",justify:"flex-start",children:[c&&Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:c}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(ce.a,{required:!0,size:"small",id:"outlined-basic-1",value:o,label:"class name",onChange:function(e){return t(T(e.target.value))},placeholder:"class 1,class 2..",variant:"outlined"})})}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(ce.a,{required:!0,size:"small",id:"outlined-basic-2",value:l,label:"teacher name",onChange:function(e){return t(F(e.target.value))},placeholder:"jhon, libiya..",variant:"outlined"})})}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(ce.a,{required:!0,size:"small",id:"outlined-basic-2",value:j,label:"Subject name",onChange:function(e){return t(z(e.target.value))},placeholder:"Math, Science, break...",variant:"outlined"})})}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(ce.a,{required:!0,size:"small",id:"outlined-basic-2",value:h,label:"Room no",onChange:function(e){return t(k(e.target.value))},placeholder:"107, 108, 109...",variant:"outlined"})})}),Object(p.jsx)(O.a,{item:!0,md:12,children:Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(re.a,{required:!0,multiple:!0,id:"fixed-tags-demo",value:null!==f&&void 0!==f?f:[],size:"small",onChange:function(e,a){t(E(a))},options:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],getOptionLabel:function(e){return e},renderTags:function(e,a){return e.map((function(e,t){return Object(p.jsx)(U.a,Object(m.a)({label:e},a({index:t})),t+1*g.getMilliseconds()+"_chip")}))},renderInput:function(e){return Object(p.jsx)(ce.a,Object(m.a)(Object(m.a)({},e),{},{label:"Days",variant:"outlined",placeholder:"sunday, monday..."}))}})})}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(se.a,{fullWidth:!0,utils:oe.a,children:Object(p.jsx)(le.a,{required:!0,margin:"normal",id:"time-picker",size:"small",fullWidth:!0,label:"From",variant:"outlined",value:new Date(i),onChange:function(e){return t(I(e.getTime()))},KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(p.jsx)(O.a,{item:!0,md:6,children:Object(p.jsx)(se.a,{utils:oe.a,children:Object(p.jsx)(le.a,{fullWidth:!0,required:!0,margin:"normal",id:"time-picker",variant:"outlined",size:"small",label:"To",value:new Date(d),onChange:function(e){return t(q(e.getTime()))},KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(p.jsx)(ne.a,{fullWidth:!0,children:Object(p.jsx)(G.a,{size:"small",variant:"outlined",label:"Add",className:"close","data-dismiss":"modal",color:"primary",onClick:function(){(0===l.length?(t(W("teacher name is required")),0):0===o.length?(t(W("class name is required")),0):0!==f.length||(t(W("select at least one day")),0))&&(u?x.collection("classes").doc(u).set({from:i,to:d,teachername:l,classname:o,days:f.toString(),subjectname:j,roomno:h}).then((function(){t(M()),console.log("Successfully Updated")})).catch((function(e){return console.log(e.message)})):x.collection("classes").doc().set({from:i,to:d,teachername:l,classname:o,days:f.toString(),subjectname:j,roomno:h}).then((function(){t(M()),console.log("Successfully added")})).catch((function(e){return console.log(e.message)})))},children:null!==u?"Update":"Add"})})]})})},me=Object(h.a)((function(e){return Object(f.a)({formRoot:{margin:"0 auto",width:"50ch","& > *":{padding:e.spacing(1)}},root:{maxWidth:345},media:{height:140}})}));var ue=function(){var e=Object(s.b)(),a=b.firestore(),t=me(),c=new Date,r=Object(s.c)((function(e){return e.classes})),o=(r.error,r.data);if(r.formData.docid,Object(n.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.collection("classes").onSnapshot((function(a){var t=a.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));e(L(t))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(){}))}),[]),void 0!==o){var i=[];o&&(null===o||void 0===o||o.forEach((function(e,a){null===e||void 0===e||e.days.split(",").map((function(e,t){var n=function(e){switch(e.toLowerCase()){case"sunday":return 0;case"monday":return 1;case"tuesday":return 2;case"weddnesday":return 3;case"thursday":return 4;case"friday":return 5;case"saturday":return 6}}(e)-(new Date).getDay();n>0&&i.push({remainingDays:n,dataIndex:a,dayIndex:t})})),console.log({upcommingEvents:i})})))}var j=Object(n.useState)("Create New Class Schedule"),h=Object(l.a)(j,2),f=h[0],x=h[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{}),Object(p.jsx)(R,{title:f,children:Object(p.jsx)(de,{})}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(g,{isLoading:void 0===o,isEmpty:void 0!==o&&0===o.length,children:Object(p.jsx)(O.a,{container:!0,direction:"row",id:"AllClasses",spacing:1,justify:"flex-start",children:o&&o.map((function(e,a){return Object(p.jsx)(O.a,{item:!0,md:3,children:Object(p.jsx)(te,{root:t.root,classname:e.classname,index:a,teachername:e.teachername,fromDate:e.fromDate,toDate:e.toDate,docid:e.docid,roomno:e.roomno,subjectname:e.subjectname,days:e.days,onEditClick:function(){return x("Edit Class Schedule")}})},(a+1)*c.getMilliseconds())}))})})})]})},je={classes:B},be=Object(D.a)({reducer:je}),he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,187)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,o=a.getTTFB;t(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:be,children:Object(p.jsx)(ue,{})})}),document.getElementById("root")),he()}},[[133,1,2]]]);
//# sourceMappingURL=main.b38b119c.chunk.js.map